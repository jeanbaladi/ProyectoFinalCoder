(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{34:function(t,e,c){},42:function(t,e,c){},43:function(t,e,c){"use strict";c.r(e);var n=c(2),i=c(24),r=c.n(i),a=c(9),o=c(7),s=c(4),j=Object(n.createContext)(),d=c(21),l=(c(44),"cmVhY3QtY29kZXJob3VzZS01M2E2My5maXJlYmFzZWFwcC5jb20="),b="cmVhY3QtY29kZXJob3VzZS01M2E2Mw==",u="cmVhY3QtY29kZXJob3VzZS01M2E2My5hcHBzcG90LmNvbQ==",O="NTU3MDcxNDAyNzIy",h="MTo1NTcwNzE0MDI3MjI6d2ViOmFmM2MzZmEyYzVmNDY3MDM4MjgwYmI=",m={apiKey:atob("QUl6YVN5Q1JCTVA0Y2RVbE1fNWlsdmdSNUcxZGJlckVLMEZaTjln"),authDomain:atob(l),projectId:atob(b),storageBucket:atob(u),messagingSenderId:atob(O),appId:atob(h)},x=d.a.initializeApp(m),p=d.a.firestore(x),f=c(1),v=function(){var t=Object(n.useContext)(j),e=t.carrito,c=t.setCarrito,i=Object(n.useState)(""),r=Object(a.a)(i,2),o=r[0],s=r[1],d=Object(n.useState)(""),l=Object(a.a)(d,2),b=l[0],u=l[1],O=Object(n.useState)(""),h=Object(a.a)(O,2),m=h[0],x=h[1],v=[];return 0===e.length?Object(f.jsx)("h2",{children:"No hay productos en el carrito"}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"producto"}),Object(f.jsx)("ul",{children:e.map((function(t){var n=t.cantidad>t[0].stock?t[0].price*t[0].stock:t[0].price*t.cantidad;return v.push(n),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("li",{children:["producto: ",t[0].title]},t[0].id),Object(f.jsxs)("li",{children:["Costo por unidad: ",t[0].price," "]}),Object(f.jsxs)("li",{children:["cantidad: ",t.cantidad>t[0].stock?"".concat(t[0].stock," (stock maximo alcanzado)"):t.cantidad," total: ",n]}),Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:function(){return n=t[0].id,void c(e.filter((function(t){return t[0].id!==n})));var n},children:"eliminar"})})]})}))}),Object(f.jsxs)("h3",{children:["total: ",v.reduce((function(t,e){return t+e}))]}),Object(f.jsx)("h5",{children:"Rellene los datos para confirmar compra:"}),Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault()},children:[Object(f.jsx)("label",{children:"Nombre Y Apellido:"}),Object(f.jsx)("input",{type:"text",value:o,onChange:function(t){var e=t.target;s(e.value)},required:!0}),Object(f.jsx)("label",{children:"Celular:"}),Object(f.jsx)("input",{type:"number",value:b,onChange:function(t){var e=t.target;u(e.value)},required:!0}),Object(f.jsx)("label",{children:"Email"}),Object(f.jsx)("input",{type:"email",value:m,onChange:function(t){var e=t.target;x(e.value)},required:!0}),0===o.length||0===b.length||0===m.length?Object(f.jsx)("input",{type:"submit"}):Object(f.jsx)("input",{type:"submit",onClick:function(t){var c=p.collection("ordenes"),n={buyer:{nombre:o,telf:b,email:m},items:[{carrito:e}],total:0===e.length?null:v.reduce((function(t,e){return t+e}))};c.add(n).then((function(t){console.log(t.id)})).catch((function(t){console.log(t)})),setTimeout((function(){window.location.reload()}),3e3)}})]})]})},g=(c(34),function(){var t=Object(n.useContext)(j).carrito.map((function(t){return t.cantidad})).length;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"flexi",children:[Object(f.jsx)(o.b,{to:"/Cart",children:Object(f.jsx)("span",{className:"material-icons",children:"add_shopping_cart"})}),Object(f.jsxs)(o.b,{to:"/Cart",children:["Total de productos: ",t]})]})})}),k=function(){return Object(f.jsx)("nav",{children:Object(f.jsx)("div",{className:"nav-wrapper",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:"/",children:"Home"})}),Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:"/1",children:"Comida"})}),Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:"/2",children:"Articulos"})}),Object(f.jsx)("li",{children:Object(f.jsx)(g,{})})]})})})},N=c(12),C=(c(42),function(t){var e=t.name,c=t.img,n=t.id;return Object(f.jsx)("div",{className:"col m12 l4",children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsxs)("div",{className:"card-image",children:[Object(f.jsx)("img",{src:c,alt:"..."}),Object(f.jsx)("span",{className:"card-title",children:e})]}),Object(f.jsx)("div",{className:"card-content",children:Object(f.jsx)("p",{children:"I am a very simple card. I am good at containing small bits of information. I am convenient because I require little markup to use effectively."})}),Object(f.jsx)("div",{className:"card-action",children:Object(f.jsx)(o.b,{to:"producto/".concat(n),children:"Ver detalles"})})]})})}),y=function(){var t=Object(n.useState)([]),e=Object(a.a)(t,2),c=e[0],i=e[1],r=Object(s.f)().id;return Object(n.useEffect)((function(){p.collection("items").get().then((function(t){var e=[];t.docs.forEach((function(t){var c=Object(N.a)({id:t.id},t.data());e.push(c),setTimeout((function(){i(e)}),1e3)}))})).catch((function(){console.log("Mal")}))}),[]),0===c.length?Object(f.jsx)("p",{children:"Cargando..."}):"1"===r?Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"cards-items row",children:c.filter((function(t){return 2===t.category})).map((function(t){return Object(f.jsx)(C,{name:t.title,img:t.image,id:t.id,stock:t.stock,price:t.price},t.id)}))})}):"2"===r?Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"cards-items row",children:c.filter((function(t){return 1===t.category})).map((function(t){return Object(f.jsx)(C,{name:t.title,img:t.image,id:t.id,stock:t.stock,price:t.price},t.id)}))})}):Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"cards-items row",children:c.map((function(t){return Object(f.jsx)(C,{name:t.title,img:t.image,id:t.id,stock:t.stock,price:t.price},t.id)}))})})},M=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(y,{})})},S=c(27),V=function(t){var e=t.onAdd,c=t.stock,i=Object(n.useState)(1),r=Object(a.a)(i,2),s=r[0],j=r[1],d=Object(n.useState)(!0),l=Object(a.a)(d,2),b=l[0],u=l[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){j(s===c?s+0:s+1)},children:" + "}),Object(f.jsxs)("span",{children:[" ",s===c?"cantidad : ".concat(s," (stock maximo)"):"contador: ".concat(s)," "]}),Object(f.jsx)("button",{onClick:function(){j(1===s?s-0:s-1)},children:" - "}),!0===b?Object(f.jsx)("button",{onClick:function(){return u(!1),void e(s)},children:" Agregar al carrito "}):Object(f.jsx)("button",{children:Object(f.jsx)(o.b,{to:"/Cart",children:"Ver carrito"})})]})},E=function(){var t=Object(n.useState)([]),e=Object(a.a)(t,2),c=e[0],i=e[1];Object(n.useEffect)((function(){p.collection("items").get().then((function(t){var e=[];t.docs.forEach((function(t){var c=Object(N.a)({id:t.id},t.data());e.push(c),setTimeout((function(){i(e)}),1e3)}))})).catch((function(){console.log("Mal")}))}),[]);var r=Object(s.f)().id,o=c.filter((function(t){return t.id===r})),d=c.filter((function(t){return t.id===r})).map((function(t){return t.stock})),l=parseInt(d),b=Object(n.useContext)(j),u=b.setCarrito,O=b.carrito;return 0===c.length?Object(f.jsx)("p",{children:"cargando..."}):c.length>0?Object(f.jsxs)("div",{children:[c.filter((function(t){return t.id===r})).map((function(t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:t.title},t.id),Object(f.jsxs)("p",{children:["stock disponible: ",t.stock]}),Object(f.jsxs)("p",{children:["precio: ",t.price]})]})})),Object(f.jsx)(V,{onAdd:function(t){var e=Object(N.a)(Object(N.a)({},o),{},{cantidad:t}),c=[];c=O.find((function(t){return t[0].id===r}))?O.map((function(e){return e[0].id===r?Object(N.a)(Object(N.a)({},e),{},{cantidad:e.cantidad+t}):e})):[].concat(Object(S.a)(O),[e]),u(c)},stock:l})]}):void 0},I=function(){return Object(f.jsxs)(o.a,{children:[Object(f.jsx)(k,{}),Object(f.jsxs)(s.c,{children:[Object(f.jsx)(s.a,{path:"/Cart",component:v}),Object(f.jsx)(s.a,{path:"/producto/:id",component:E}),Object(f.jsx)(s.a,{path:"/",component:M,exact:!0}),Object(f.jsx)(s.a,{path:"/:id",component:M})]})]})},Y=function(){var t=Object(n.useState)([]),e=Object(a.a)(t,2),c=e[0],i=e[1];return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(j.Provider,{value:{carrito:c,setCarrito:i},children:Object(f.jsx)(I,{})})})};r.a.render(Object(f.jsx)(Y,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.8cc1c28a.chunk.js.map